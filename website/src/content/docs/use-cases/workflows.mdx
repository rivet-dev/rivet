# Workflows

## Challenges of Building Workflows

Common tools: Temporal, Cadence, Apache Airflow, AWS Step Functions, custom orchestration systems

Main pain points:
- Complex infrastructure setup and maintenance for workflow orchestration
- Managing state across long-running multi-step processes
- Handling retries, timeouts, and failure recovery across distributed steps
- Coordinating between different services and maintaining transaction boundaries
- High operational cost of running dedicated workflow engines

## How Rivet Solves This

Rivet actors provide built-in workflow capabilities with durable execution and automatic state management without external orchestration systems.

**Durable Execution**: Actor actions automatically persist state between steps, surviving restarts and failures without additional infrastructure.

```typescript
const orderWorkflow = actor({
  state: {
    orderId: "",
    status: "pending" as "pending" | "paid" | "shipped" | "completed",
    steps: [] as string[]
  },

  actions: {
    processOrder: async (c, orderId: string) => {
      c.state.orderId = orderId;
      c.state.steps.push("started");

      // Step 1: Process payment
      await processPayment(orderId);
      c.state.status = "paid";
      c.state.steps.push("paid");
      c.broadcast("orderUpdate", { status: "paid" });

      // Step 2: Schedule shipment
      c.schedule.after(1000 * 60 * 60, "shipOrder"); // 1 hour
    },

    shipOrder: async (c) => {
      await fulfillment.ship(c.state.orderId);
      c.state.status = "shipped";
      c.state.steps.push("shipped");
      c.broadcast("orderUpdate", { status: "shipped" });
    }
  }
});
```

**Scheduled Steps**: Use [scheduling](/docs/actors/schedule) to delay workflow steps or implement timeouts and reminders.

**State Checkpointing**: State automatically persists after each action, ensuring workflow progress is never lost. Learn about [state management](/docs/actors/state).

**Actor Communication**: Coordinate across services using [actor-to-actor communication](/docs/actors/communicating-between-actors) without message queues.

**Realtime Updates**: Stream workflow progress to clients using [events](/docs/actors/events).

## Full Example Projects

<CardGroup>
<Card href="https://github.com/rivet-dev/rivet/tree/main/examples/workflows" title="Workflow Examples" />
</CardGroup>
