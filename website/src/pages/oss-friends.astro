---
import MarketingLayout from '@/layouts/MarketingLayout.astro';

// Fetch OSS friends data at build time
let items: any[] = [];
try {
	const res = await fetch("https://formbricks.com/api/oss-friends");
	const data = await res.json();
	items = data.data || [];
} catch (e) {
	console.warn("Failed to fetch OSS friends:", e);
}
---

<MarketingLayout
	title="Open Source Friends - Rivet"
	description="Other companies whose code & culture mirrors that at Rivet."
	canonicalUrl="https://rivet.dev/oss-friends/"
>
	<div class="min-h-screen bg-black font-sans text-zinc-300 selection:bg-[#FF4500]/30 selection:text-orange-200">
		<div class="relative overflow-hidden pb-12 pt-32 md:pt-48">
			<div class="mx-auto max-w-7xl px-6">
				<div class="max-w-2xl">
					<h1 class="mb-6 text-4xl font-normal leading-[1.1] tracking-tight text-white md:text-6xl">
						Open Source Friends
					</h1>
					<p class="text-base leading-relaxed text-zinc-500">
						Other companies whose code & culture mirrors that at Rivet.
					</p>
				</div>
			</div>
		</div>

		<div class="border-t border-white/10 py-16">
			<div class="mx-auto max-w-7xl px-6">
				<div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
					{items.map((friend: any) => (
						<a
							href={friend.href}
							target="_blank"
							rel="noopener noreferrer"
							class="group flex flex-col rounded-lg border border-white/10 p-6 transition-colors hover:border-white/20"
						>
							<h3 class="mb-2 text-base font-normal text-white">
								{friend.name}
							</h3>
							<p class="text-sm leading-relaxed text-zinc-500">
								{friend.description}
							</p>
						</a>
					))}
				</div>
			</div>
		</div>
	</div>
</MarketingLayout>
